<div class="row">
    <input-field class="col-md-12" id="'group-name'" title="'Name:'" css="'h3'" type="'text'" source="group" target="'name'"></input-field>
    <div class="col-md-12">
        <strong>DPR:</strong>
        {{ dpr(character, level, group) }}
    </div>

    <div class="row">
        <tabset class="col-md-12">
            <tab ng-repeat="attack in group.data.attacks" active="attack.active" select="edit.clear()">
                <tab-heading>
                    {{ attack.name }}
                    <a ng-click="remove($index)" href=""><i class="glyphicon glyphicon-remove close"></i></a>
                </tab-heading>
                <attack ng-if="attack.active" class="col-md-12" sort="sort" attack="attack" group="group" level="level" character="character"></attack>
            </tab>
            <tab select="add()">
                <tab-heading>
                    <span class="glyphicon glyphicon-plus"></span>
                </tab-heading>
            </tab>
        </tabset>
    </div>
</div>

<!--
<div class="col-md-12 row">
    <div class="col-md-12">
        <u>Attack Groups</u>
        <button type="button" ng-click="addAttackGroup(level)" class="btn btn-success btn-xs glyphicon glyphicon-plus"></button>
        <button type="button" ng-click="copyAttackGroupFromPreviousLevel(character, level)" class="btn btn-primary btn-xs glyphicon glyphicon-copy"></button>
    </div>
    <div class="col-md-12" ng-repeat="(ind, atkGroup) in level.attackGroups">
        <div class="col-md-1">
            <button type="button" ng-click="removeAttackGroup(level, ind)" class="btn btn-danger btn-xs glyphicon glyphicon-trash"></button>
            <button type="button" ng-click="selectAttackGroup(level, ind)" class="btn btn-primary btn-xs glyphicon glyphicon-pencil" ng-if="level.selectedAttackGroupIndex !== ind"></button>
            <button type="button" ng-click="addAttack(level.selectedAttackGroup)" class="btn btn-success btn-xs glyphicon glyphicon-plus" ng-if="level.selectedAttackGroupIndex === ind"></button>
        </div>
        <div class="col-md-11" ng-if="level.selectedAttackGroupIndex !== ind">
            {{ atkGroup.name }}
            <strong>DPR</strong>: {{ calculateDPR(character, level, atkGroup) | number: 4 }}
        </div>
        <div class="col-md-11 clickable" ng-click="setEdit('atkGroup-name', 'level.selectedAttackGroup.name')" ng-if="edit.id !== 'atkGroup-name' && level.selectedAttackGroupIndex === ind">
            [&nbsp;{{ atkGroup.name }}&nbsp;]
            <strong>DPR</strong>: {{ calculateDPR(character, level, atkGroup) | number: 4 }}
        </div>
        <div class="col-md-11 row" ng-if="edit.id === 'atkGroup-name'">
            <div class="col-md-11">
                <input class="form-control input-sm" type="text" ng-model="level.selectedAttackGroup.name" />
            </div>
            <div class="col-md-1">
                <button type="button" ng-click="edit.clear()" class="btn btn-success btn-xs glyphicon glyphicon-ok"></span>
                <button type="button" ng-click="edit.cancel()" class="btn btn-danger btn-xs glyphicon glyphicon-remove"></span>
            </div>
        </div>
        <div class="col-md-12 row bg-default rounded" ng-if="level.selectedAttackGroupIndex === ind">
            <div class="col-md-12">
                <u>Attacks</u>
            </div>
            <div class="col-md-12 row" ng-if="level.selectedAttackGroupIndex === ind" ng-repeat="(atkInd, atk) in atkGroup.attacks">
                <div class="col-md-2 row">
                    <div class="col-md-5 text-center">
                        <button type="button" ng-click="removeAttack(atkGroup, atkInd)" class="btn btn-danger btn-xs glyphicon glyphicon-trash"></button>
                        <button type="button" ng-click="selectAttack(atkGroup, atkInd)" class="btn btn-primary btn-xs glyphicon glyphicon-pencil" ng-if="atkGroup.selectedAttackIndex !== atkInd"></button>
                    </div>
                    <div class="col-md-7" ng-if="atkGroup.selectedAttackIndex !== atkInd">
                        {{ atk.weapon }}
                        <p><strong>DPR</strong>:&nbsp;{{ calculateAttackDPR(character, level, atk) | number: 4 }}
                    </div>
                    <div class="col-md-7" ng-if="atkGroup.selectedAttackIndex === atkInd">
                        <div class="col-md-12 row clickable" ng-click="setEdit('atk-weapon', 'level.selectedAttackGroup.selectedAttack.weapon')" ng-if="edit.id !== 'atk-weapon'">
                            [&nbsp;{{ atk.weapon }}&nbsp;]
                            <p><strong>DPR</strong>:&nbsp;{{ calculateAttackDPR(character, level, atk, 12) | number: 4 }}
                        </div>
                        <div class="col-md-12 row text-center" ng-if="edit.id === 'atk-weapon'">
                            <input class="form-control input-sm" type="text" ng-model="level.selectedAttackGroup.selectedAttack.weapon" />
                            <button type="button" ng-click="edit.clear()" class="btn btn-success btn-xs glyphicon glyphicon-ok"></span>
                            <button type="button" ng-click="edit.cancel()" class="btn btn-danger btn-xs glyphicon glyphicon-remove"></span>
                        </div>
                    </div>
                </div>
                <div class="col-md-3 row">
                    <div class="col-md-12">
                        <u>Hit Bonus:</u>
                        {{ getHit(character, level, atk) }}
                        <button type="button" ng-click="addHit(atk)" ng-if="atkGroup.selectedAttackIndex === atkInd" class="btn btn-success btn-xs glyphicon glyphicon-plus"></button>
                    </div>
                    <div ng-if="atkGroup.selectedAttackIndex === atkInd" class="col-md-12 row">
                        <div class="col-md-12 row">
                            <div class="col-md-6">
                                <u>Type</u>
                            </div>
                            <div class="col-md-6">
                                <u>Value</u>
                            </div>
                        </div>
                        <div class="col-md-12 row" ng-repeat="(hitInd, hit) in atk.hitChance">
                            <div class="col-md-6 clickable" ng-click="setEdit('atkHit-' + atkInd + '-' + hitInd, 'level.selectedAttackGroup.selectedAttack.hitChance.' + hitInd + '.type', hit, 'value')" ng-if="edit.id !== 'atkHit-' + atkInd + '-' + hitInd">
                                <button type="button" ng-click="removeHit(atk, hitInd)" class="btn btn-danger btn-xs glyphicon glyphicon-trash"></button>
                                [&nbsp;{{ bonusTypeText(hit.type) }}&nbsp;]
                            </div>
                            <div class="col-md-6 text-center" ng-if="edit.id === 'atkHit-' + atkInd + '-' + hitInd">
                                <select class="form-control input-sm" ng-model="hit.type">
                                    <option value="{{ BONUS_TYPE[select] }}" ng-selected="BONUS_TYPE[select] == hit.type" ng-repeat="select in ['ABILITY', 'STAT', 'POWER_ATTACK_HIT', 'TWO_WEAPON', 'DYNAMIC' ]">{{ bonusTypeText(BONUS_TYPE[select]) }}</option>
                                </select>
                                <button type="button" ng-click="edit.clear()" class="btn btn-success btn-xs glyphicon glyphicon-ok"></span>
                                <button type="button" ng-click="edit.cancel()" class="btn btn-danger btn-xs glyphicon glyphicon-remove"></span>
                            </div>
                            <div class="col-md-6 text-capitalize clickable" ng-click="setEdit('atkHitBonus-' + atkInd + '-' + hitInd, 'level.selectedAttackGroup.selectedAttack.hitChance.' + hitInd + '.value')" ng-if="edit.id !== 'atkHitBonus-' + atkInd + '-' + hitInd && (hit.type == BONUS_TYPE.ABILITY || hit.type == BONUS_TYPE.STAT || hit.type === BONUS_TYPE.DYNAMIC)">
                                [&nbsp;{{ hit.value }}&nbsp;]
                            </div>
                            <div class="col-md-6 text-capitalize" ng-if="hit.type == BONUS_TYPE.TWO_WEAPON">
                                {{ getValue(character, level, { 'type': BONUS_TYPE.TWO_WEAPON }) }}
                            </div>
                            <div class="col-md-6 text-capitalize" ng-if="hit.type == BONUS_TYPE.POWER_ATTACK_HIT">
                                {{ getValue(character, level, { 'type': BONUS_TYPE.POWER_ATTACK_HIT }) }}
                            </div>
                            <div class="col-md-6 text-center" ng-if="hit.type == BONUS_TYPE.ABILITY && edit.id === 'atkHitBonus-' + atkInd + '-' + hitInd">
                                <select class="form-control input-sm" ng-model="hit.value">
                                    <option class="text-capitalize" value="{{ select }}" ng-selected="select == hit.value" ng-repeat="select in abilityScores">{{ select }}</option>
                                </select>
                                <button type="button" ng-click="edit.clear()" class="btn btn-success btn-xs glyphicon glyphicon-ok"></span>
                                <button type="button" ng-click="edit.cancel()" class="btn btn-danger btn-xs glyphicon glyphicon-remove"></span>
                            </div>
                            <div class="col-md-6 text-center" ng-if="hit.type == BONUS_TYPE.STAT && edit.id === 'atkHitBonus-' + atkInd + '-' + hitInd">
                                <select class="form-control input-sm" ng-model="hit.value">
                                    <option class="text-capitalize" value="{{ select }}" ng-selected="select == hit.value" ng-repeat="select in [ 'bab' ]">{{ select }}</option>
                                </select>
                                <button type="button" ng-click="edit.clear()" class="btn btn-success btn-xs glyphicon glyphicon-ok"></span>
                                <button type="button" ng-click="edit.cancel()" class="btn btn-danger btn-xs glyphicon glyphicon-remove"></span>
                            </div>
                            <div class="col-md-6 text-center" ng-if="hit.type == BONUS_TYPE.DYNAMIC && edit.id === 'atkHitBonus-' + atkInd + '-' + hitInd">
                                <input type="number" ng-model="hit.value" />
                                <button type="button" ng-click="edit.clear()" class="btn btn-success btn-xs glyphicon glyphicon-ok"></span>
                                <button type="button" ng-click="edit.cancel()" class="btn btn-danger btn-xs glyphicon glyphicon-remove"></span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-4 row">
                    <div class="col-md-12">
                        <u>Average Dmg:</u>
                        {{ getDmg(character, level, atk) }}
                        <button type="button" ng-if="atkGroup.selectedAttackIndex === atkInd" ng-click="addDmg(atk)" class="btn btn-success btn-xs glyphicon glyphicon-plus" />
                    </div>
                    <div ng-if="atkGroup.selectedAttackIndex === atkInd" class="col-md-12 row">
                        <div class="col-md-12 row">
                            <div class="col-md-4">
                                <u>Type</u>
                            </div>
                            <div class="col-md-4">
                                <u>Value</u>
                            </div>
                            <div class="col-md-3 text-center">
                                <u>Multiplier</u>
                            </div>
                            <div class="col-md-1 text-center">
                                <u>Percision</u>
                            </div>
                        </div>
                        <div class="col-md-12 row" ng-repeat="(dmgInd, dmg) in atk.damage">
                            <div class="col-md-4 clickable" ng-click="setEdit('atkDmg-' + atkInd + '-' + dmgInd, 'level.selectedAttackGroup.selectedAttack.damage.' + dmgInd + '.type', dmg, 'value')" ng-if="edit.id !== 'atkDmg-' + atkInd + '-' + dmgInd">
                                <button type="button" ng-click="removeDmg(atk, dmgInd)" class="btn btn-danger btn-xs glyphicon glyphicon-trash"></button>
                                [&nbsp;{{ bonusTypeText(dmg.type) }}&nbsp;]
                            </div>
                            <div class="col-md-4 text-center" ng-if="edit.id === 'atkDmg-' + atkInd + '-' + dmgInd">
                                <select class="form-control input-sm" ng-model="dmg.type">
                                    <option value="{{ BONUS_TYPE[select] }}" ng-selected="BONUS_TYPE[select] == dmg.type" ng-repeat="select in ['DICE', 'ABILITY', 'POWER_ATTACK_DMG', 'DYNAMIC' ]">{{ bonusTypeText(BONUS_TYPE[select]) }}</option>
                                </select>
                                <button type="button" ng-click="edit.clear()" class="btn btn-success btn-xs glyphicon glyphicon-ok"></span>
                                <button type="button" ng-click="edit.cancel()" class="btn btn-danger btn-xs glyphicon glyphicon-remove"></span>
                            </div>
                            <div class="col-md-4 text-capitalize clickable" ng-click="setEdit('atkDmgBonus-' + atkInd + '-' + dmgInd, 'level.selectedAttackGroup.selectedAttack.damage.' + dmgInd + '.value')" ng-if="edit.id !== 'atkDmgBonus-' + atkInd + '-' + dmgInd && (dmg.type == BONUS_TYPE.ABILITY || dmg.type == BONUS_TYPE.DYNAMIC || dmg.type == BONUS_TYPE.DICE)">
                                [&nbsp;{{ dmg.value }}&nbsp;]
                            </div>
                            <div class="col-md-4 text-capitalize" ng-click="setEdit('atkDmgBonus-' + atkInd + '-' + dmgInd, 'level.selectedAttackGroup.selectedAttack.damage' + damg.ind + '.type', dmag, 'value')" ng-if="dmg.type == BONUS_TYPE.POWER_ATTACK_DMG && edit.id !== 'atkDmgBonus-' + atkInd + '-' + dmgInd">
                                [&nbsp;{{ getValue(character, level, dmg) }}&nbsp;]
                            </div>
                            <div class="col-md-4 text-center" ng-if="dmg.type == BONUS_TYPE.POWER_ATTACK_DMG && edit.id === 'atkDmgBonus-' + atkInd + '-' + dmgInd">
                                <div>
                                    Two-handed:
                                    <input type="checkbox" ng-model="dmg.value" ng-checked="dmg.value" />
                                </div>
                                <button type="button" ng-click="edit.clear()" class="btn btn-success btn-xs glyphicon glyphicon-ok"></span>
                                <button type="button" ng-click="edit.cancel()" class="btn btn-danger btn-xs glyphicon glyphicon-remove"></span>
                            </div>
                            <div class="col-md-4 text-center" ng-if="dmg.type == BONUS_TYPE.ABILITY && edit.id === 'atkDmgBonus-' + atkInd + '-' + dmgInd">
                                <select class="form-control input-sm" ng-model="dmg.value">
                                    <option class="text-capitalize" value="{{ select }}" ng-selected="select == dmg.value" ng-repeat="select in abilityScores">{{ select }}</option>
                                </select>
                                <button type="button" ng-click="edit.clear()" class="btn btn-success btn-xs glyphicon glyphicon-ok"></span>
                                <button type="button" ng-click="edit.cancel()" class="btn btn-danger btn-xs glyphicon glyphicon-remove"></span>
                            </div>
                            <div class="col-md-4 text-center" ng-if="dmg.type == BONUS_TYPE.DYNAMIC && edit.id === 'atkDmgBonus-' + atkInd + '-' + dmgInd">
                                <input class="form-control input-sm" type="number" ng-model="dmg.value" />
                                <button type="button" ng-click="edit.clear()" class="btn btn-success btn-xs glyphicon glyphicon-ok"></span>
                                <button type="button" ng-click="edit.cancel()" class="btn btn-danger btn-xs glyphicon glyphicon-remove"></span>
                            </div>
                            <div class="col-md-4 text-center" ng-if="dmg.type == BONUS_TYPE.DICE && edit.id === 'atkDmgBonus-' + atkInd + '-' + dmgInd">
                                <input class="form-control input-sm" type="text" ng-model="dmg.value" />
                                <button type="button" ng-click="edit.clear()" class="btn btn-success btn-xs glyphicon glyphicon-ok"></span>
                                <button type="button" ng-click="edit.cancel()" class="btn btn-danger btn-xs glyphicon glyphicon-remove"></span>
                            </div>
                            <div class="col-md-3 clickable text-center" ng-click="setEdit('atkDmgMod-' + atkInd + '-' + dmgInd, 'level.selectedAttackGroup.selectedAttack.damage.' + dmgInd + '.modifier')" ng-if="edit.id !== 'atkDmgMod-' + atkInd + '-' + dmgInd">
                                [&nbsp;{{ dmg.modifier }}&nbsp;]
                            </div>
                            <div class="col-md-3 text-center" ng-if="edit.id === 'atkDmgMod-' + atkInd + '-' + dmgInd">
                                <input class="form-control input-sm" type="number" ng-model="dmg.modifier" />
                                <button type="button" ng-click="edit.clear()" class="btn btn-success btn-xs glyphicon glyphicon-ok"></span>
                                <button type="button" ng-click="edit.cancel()" class="btn btn-danger btn-xs glyphicon glyphicon-remove"></span>
                            </div>
                            <div class="col-md-1 text-center">
                                <input type="checkbox" ng-model="dmg.percision" ng-checked="dmg.percision" />
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-3 row">
                    <div class="col-md-6">
                        <u>Crit Threat</u>:
                        <span ng-if="atkGroup.selectedAttackIndex !== atkInd">
                            {{ atk.critThreat }}
                        </span>
                        <span class="clickable" ng-if="atkGroup.selectedAttackIndex === atkInd && edit.id !== 'atkCritThreat-' + atkInd" ng-click="setEdit('atkCritThreat-' + atkInd, 'level.selectedAttackGroup.selectedAttack.critThreat')">
                            [&nbsp;{{ atk.critThreat }}&nbsp;]
                        </span>
                        <span ng-if="atkGroup.selectedAttackIndex === atkInd && edit.id === 'atkCritThreat-' + atkInd">
                            <input class="form-control input-sm" type="number" ng-model="atk.critThreat" />
                            <button type="button" ng-click="edit.clear()" class="btn btn-success btn-xs glyphicon glyphicon-ok"></span>
                            <button type="button" ng-click="edit.cancel()" class="btn btn-danger btn-xs glyphicon glyphicon-remove"></span>
                        </span>
                    </div>
                    <div class="col-md-6">
                        <u>Crit Multi</u>:
                        <span ng-if="atkGroup.selectedAttackIndex !== atkInd">
                            {{ atk.critMultiplier }}
                        </span>
                        <span class="clickable" ng-if="atkGroup.selectedAttackIndex === atkInd && edit.id !== 'atkCritMulti-' + atkInd" ng-click="setEdit('atkCritMulti-' + atkInd, 'level.selectedAttackGroup.selectedAttack.critMultiplier')">
                            [&nbsp;{{ atk.critMultiplier }}&nbsp;]
                        </span>
                        <span ng-if="atkGroup.selectedAttackIndex === atkInd && edit.id === 'atkCritMulti-' + atkInd">
                            <input class="form-control input-sm" type="number" ng-model="atk.critMultiplier" />
                            <button type="button" ng-click="edit.clear()" class="btn btn-success btn-xs glyphicon glyphicon-ok"></span>
                            <button type="button" ng-click="edit.cancel()" class="btn btn-danger btn-xs glyphicon glyphicon-remove"></span>
                        </span>
                    </div>
                </div>
            </div>
        </div>
    </div>
<"/div>
-->
